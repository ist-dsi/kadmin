version: "2"
services:
  # This service MUST have the name "kdc-kadmin" otherwise the kerberos-client wont be able to talk with the KDC.
  # If you would like to change the name, be sure to edit the file kerberos-client/configureKerberosClient.sh
  # and change the configurations "kdc" and "admin_server" in the /etc/krb5.conf
  kdc-kadmin:
    build: ./kdc-kadmin
    env_file: kerberos.env
    ports:
      - "749:749"
      - "88:88"
    volumes:
      - /dev/urandom:/dev/random

  kerberos-client:
    build: ./kerberos-client
    env_file: kerberos.env
    links:
      - kdc-kadmin
    volumes:
      - ../:/tmp/kadmin/
